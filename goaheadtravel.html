<!DOCTYPE html>
<html lang="en">
	<head>
		<link rel="stylesheet" href="normalize.css">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Go ahead travel</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" integrity="sha256-46qynGAkLSFpVbEBog43gvNhfrOj+BmwXdxFgVK/Kvc=" crossorigin="anonymous" />
		<!-- fonts -->
		<link href="https://fonts.googleapis.com/css?family=Lora:400,700|Roboto+Slab:400,700&display=swap" rel="stylesheet"> 
			<!-- Style file -->
		<link rel="stylesheet" href="css/style.css">
	</head>
	<body>
		<!-- Navbar -->
		<header>
			<div class="logo">
				<img src="" alt="">
			</div>
			<a href="https://github.com/moezbenrebah/goAheadTravel" target="_blank" class="github-corner" aria-label="View source on GitHub">
				<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#b88700; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true">
					<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
					<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
					<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
				</svg>
			</a>
			<button class="nav-toggle" aria-label="toggle navigation">
				<span class="hamburger"></span>
			</button>
			<nav class="nav">
				<ul class="nav__list">
					<li class="nav__item"><a href="index.html" class="nav__link">Home</a></li>
					<li class="nav__item"><a href="index.html#services" class="nav__link">My Services</a></li>
					<li class="nav__item"><a href="index.html#about" class="nav__link">About me</a></li>
					<li class="nav__item"><a href="index.html#projects" class="nav__link">Projects</a></li>
					<li class="nav__item"><a href="#meetMeHere" class="nav__link">Meet me here</a></li>
				</ul>
			</nav>
		</header>
    <!-- Intro section -->
		<section class="intro">
      <h1 class="section__title section__title--intro">
        <strong>Go Ahead Travel</strong>
      </h1>
      <p class="section__subtitle section__subtitle--intro">Full stack web application</p>
      <img src="img/goaheadtravel.jpg" alt="" class="intro__img">
		</section>
		<!-- Content overview -->
		<div class="portfolio-item-individual">
      <div class="class">
        <ul class="overview__list">
          <li class="nav__item--project">Content Overview:</li>
          <ul class="overview__list overview__list--sublist">
            <li class="nav__item--project"><a href="#the_project_main_idea" class="nav__link--overview">The project main idea</a></li>
            <li class="nav__item--project"><a href="#demo" class="nav__link--overview ">Demo</a></li>
            <li class="nav__item--project"><a href="#postman" class="nav__link--overview">APIs</a></li>
            <li class="nav__item--project"><a href="#architecture" class="nav__link--overview">Architecture</a></li>
            <li class="nav__item--project"><a href="#error_handling" class="nav__link--overview">Error handling</a></li>
            <li class="nav__item--project"><a href="#data_modeling" class="nav__link--overview">Data modeling</a></li>
            <li class="nav__item--project"><a href="#stripe" class="nav__link--overview">Stripe Implementation & Stripe webhooks logic</a></li>
            <li class="nav__item--project"><a href="#technologies" class="nav__link--overview">Technologies & Third services</a></li>
            <li class="nav__item--project"><a href="#coming_improvement" class="nav__link--overview">Coming improvement</a></li>
          </ul>
        </ul>
      </div>
      <hr class="hr">
      <div class="img-responsive--background">
        <img src="img/goaheadtravel_wallpaper.jpg" alt="goaheadtravel wallpaper">
      </div>
      <div class="overview__section">
        <h3 id="the_project_main_idea">
          The project main idea:
        </h3>
        <p>
          The project is a travel booking web application, where users can purchase travel via bank card, create an account, log in and log out, with the ability to reset their password and update their data (name, photo, and email basically) along with an improved user experience.
        </p>
      </div>
      <div class="overview__section">
        <h3 id="demo">
          Demo:
        </h3>
        <div class="img-responsive--background">
          <iframe id="video" src="https://www.youtube.com/embed/-9r9shBcI8k" allowfullscreen="true"></iframe>
        </div>
        <p>
          The project is a travel booking web application, where users can purchase travel via bank card, create an account, log in and log out, with the ability to reset their password and update their data (name, photo, and email basically) along with an improved user experience.
        </p>
      </div>
      <div class="overview__section">
        <h3 id="postman">
          APIs:
        </h3>
        <p>
          I built and tested my APIs using Postman, Please refer to this <a class="link" href="https://documenter.getpostman.com/view/14950888/UVeFNS9W#da0f790e-0ffb-471b-891c-006a08e07150" data-content="Link" target="_blank">Link</a> to get more details about APIs.
        </p>
      </div>
      <div class="overview__section">
        <h3 id="architecture">Architecture:</h3>
        <div class="overview__section--sub">
          <h4>
            <strong>Project Directory structure: </strong><small><span>(please check the box to expand)</span></small>
          </h4>
          <ul id="myUL">
            <li><span class="box">Project Tree</span>
              <ul class="nested">
                <li><span class="box">Controllers</span>
                  <ul class="nested">
                    <li>authController.js</li>
                    <li>bookingController.js</li>
                    <li>errorController.js</li>
                    <li>factoryHandler.js</li>
                    <li>ratingController.js</li>
                    <li>travelController.js</li>
                    <li>userController.js</li>
                    <li>viewsController.js</li>
                  </ul>
                </li>
                <li><span class="box">dev-data</span>
                  <ul class="nested">
                    <li><span class="box">data</span>
                      <ul class="nested">
                        <li>import-data.js</li>
                        <li>ratings.json</li>
                        <li>travels.json</li>
                        <li>users.json</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><span class="box">models</span>
                  <ul class="nested">
                    <li>bookingModel.js</li>
                    <li>ratingModel.js</li>
                    <li>travelModel.js</li>
                    <li>userModel.js</li>
                  </ul>
                </li>
                <li><span class="box">views</span>
                  <ul class="nested">
                    <li><span class="box">emailTemplates</span>
                      <ul class="nested">
                        <li>bookedTravel.pug</li>
                        <li>emailStyle.pug</li>
                        <li>goAheadTravelEmail.pug</li>
                        <li>passwordReset.pug</li>
                        <li>welcome.pug</li>
                      </ul>
                    </li>
                    <li>Error.pug</li>
                    <li>content.pug</li>
                    <li>footer.pug</li>
                    <li>forgotPassword.pug</li>
                    <li>goaheadtravel.pug</li>
                    <li>header.pug</li>
                    <li>login.pug</li>
                    <li>nobooking.pug</li>
                    <li>overview.pug</li>
                    <li>profile.pug</li>
                    <li>resetPassword.pug</li>
                    <li>reviewCard.pug</li>
                    <li>signup.pug</li>
                    <li>travel.pug</li>
                  </ul>
                </li>
                <li><span class="box">public</span>
                  <ul class="nested">
                    <li><span class="box">css</span>
                      <ul class="nested">
                        <li>styles.css</li>
                      </ul>
                    </li>
                    <li><span class="box">img</span>
                      <ul class="nested">
                        <li>travels</li>
                        <li>users</li>
                      </ul>
                    </li>
                    <li><span class="box">js</span>
                      <ul class="nested">
                        <li>alerts.js</li>
                        <li>bundle.js</li>
                        <li>bundle.js.map</li>
                        <li>forgotpassword.js</li>
                        <li>index.js</li>
                        <li>login.js</li>
                        <li>resetpassword.js</li>
                        <li>signup.js</li>
                        <li>stripe.js</li>
                        <li>updateSettings.js</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><span class="box">routes</span>
                  <ul class="nested">
                    <li>bookingRoutes.js</li>
                    <li>ratingRoutes.js</li>
                    <li>travelRoutes.js</li>
                    <li>userRoutes.js</li>
                    <li>viewsRoutes.js</li>
                  </ul>
                </li>
                <li><span class="box">utilities</span>
                  <ul class="nested">
                    <li>apiClass.js</li>
                    <li>catchAsyncHandler.js</li>
                    <li>errorHandlingClass.js</li>
                    <li>nodemail.js</li>
                  </ul>
                </li>
                <li>app.js</li>
                <li>server.js</li>
                <li>package.json</li>
                <li>README.md</li>
                <li>LICENSE</li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="overview__section--sub">
          <h4>
            <strong>Application architecture:</strong>
          </h4>
          <p>
            This project builds with NodeJs, MongoDB JavaScript, CSS, PUG and MongoDB.
          </p>
          <div class="img-responsive--background">
            <img src="img/architecture.png" alt="goaheadtravel architecture">
          </div>
        </div>
        <div class="overview__section--sub">
          <strong>Node Backend with:</strong>
          <ul class="technologies_list">
            <li><u>ExpressJs:</u> for design Rest APIs, define middlewares, manage routings, HTTP request, error handling ...</li>
            <li><u>Mongoose:</u> for data modeling, schema building, document middleware, and business logic</li>
            <li><u>MongoDB Atlas:</u> for database hosting</li>
            <li><u>Nodemailer:</u> for sending emails to user (example: reset password)</li>
            <li><u>cryptojs:</u> for encrypt password and token</li>
            <li><u>JSON Web Token (JWT):</u> for authenticate users</li>
            <li><u>Stripe:</u> for online payments via bank card</li>
            <li><u>Gmail:</u> SMTP for emailing users whenver they signed up, attempt to update their passwords, or booked a travel</li>
          </ul>
        </div>
        <div class="overview__section--sub">
          <strong>Frontend with:</strong>
          <ul class="technologies_list">
            <li><u>Javascript: </u> for building APIs, and rendering user interfaces dynamically</li>
            <li><u>Axios:</u> for fetching RESTFul APIs</li>
            <li><u>Parcel-bundler:</u> for web application bundling</li>
            <li><u>CSS:</u> for styling the web application</li>
            <li><u>PUG:</u> for building templates</li>
          </ul>
        </div>
        <div class="overview__section--sub">
          <strong>MVC architecture:</strong>
          <p>The MVC architecture used here, is a way to structure the application development in three layers:</p>
          <ul class="technologies_list">
            <li>
              <u>Business logic layer:</u> represented in Model folder, with mongoose schema choosing which information and data represnting to clients and is the layer that the hole application build around.
            </li>
            <li>
              <u>Application logic layer:</u> represented in Controler folder, build around javascript functions to handle application's requests interact with models and send back response to clients.
            </li>
            <li>
              <u>Presentation logic layer:</u> represented in Views folder consists basically of the templates used to generate the view, so the website that we're going to send back to the clients.
            </li>
          </ul>
          <div class="img-responsive--background">
            <img src="img/MVC architecture.png" alt="goaheadtravel MVC architecture">
          </div>
        </div>
      </div>
      <div class="overview__section">
        <h3 id="error_handling">
          Error handling:
        </h3>
        <p>
          The main purpose behind implementing a global error handler is to catch every error comes from a route handler, model validator, etc... So all these errors end up
          in one central error handler middleware, and then send back a friendly response to clients let them know what happens (in case of trusted error), otherwise it will be a generic error response.
        </p>
        <div class="img-responsive--background">
          <img src="img/Error handling architecture.png" alt="goaheadtravel error handling architecture">
        </div>
      </div>
      <div class="overview__section">
        <h3 id="data_modeling">
          Data modeling:
        </h3>
        <div>
          Data modeling is the process of taking unstructured data generated by a real-world scenario
          and then structuring it into a logical data model in DB according to a set of criteria such as:
          <ul>
            <li>Identify different types of relationships between data (One to one, one to many, and many to many).</li>
            <li>Deciding whether a document should be embeded within another document or referencing it.</li>
          </ul>
        </div>
        <div>
          Go ahead travel is a data-intensive web application, so modelling all these data is an important step in building the web application.
          The below data modelling diagram shows the data storing design, the different relationships between all these documents, and whether it were embeded or refrenced.
          <div class="img-responsive--background">
            <img src="img/Data Modeling.png" alt="goaheadtravel error handling architecture">
          </div>
        </div>
      </div>
      <div class="overview__section">
        <h3 id="stripe">
          Stripe Implementation & Stripe webhooks logic:
        </h3>
        <p>
          <strong>Backend-side:</strong> I set a route to create Stripe checkout session,
          which will contain informations about the travel to purchase like the name of the travel,
          the price, the currency,.. etc, along with user details such as the email, name.
          For that, the stripe secret key must be provided.
        </p>
        <p>
          <strong>Frontend-side:</strong> I implemented a function that will call the Stripe checkout session
          from the server once the user hit the booking button and send it back to client,
          and based on that session Stripe will create the checkout page and redirect the user to it,
          in order to fill it with the card number, expiration date,..
          Then, Stripe will charge the credit card which means that the user data (credit card number, expiration date...)
          will not reach the web application server and this is very secure.
        </p>
        <p>
          <strong>Stripe Webhook:</strong> Once the travel booking event is successful, I impelemented a function
          that retrieve data from the event object to create a new booking in the DB and send a confirmation email to user.
        </p>
        <div class="img-responsive--background">
          <img src="img/stripe_webhook.png" alt="goaheadtravel error handling architecture">
        </div>
      </div>
      <div class="overview__section">
        <h3 id="technologies">
          Technologies & Third services
        </h3>
        <ul>
          <li>Postman</li>
          <li>MongoDB Atlas</li>
          <li>Parcel-bundler</li>
          <li>Stripe</li>
          <li>Mailtrap</li>
          <li>Gmail (to send emails)</li>
          <li>Mapbox</li>
        </ul>
      </div>
      <div class="overview__section">
        <h3 id="coming_improvement">
          Coming improvement:
        </h3>
        <ul>
          <li>Improve the web application responsiveness and design</li>
          <li>Improve users + admin&lead-guide profile dashbord (booked travels, list of all users, travels, list of users ratings ...)</li>
          <li> Impelement map along with locations to visit using Mapbox</li>
        </ul>
      </div>
      <a class="img__logo img-responsive--background" id="Logo" href="https://goaheadtravel.herokuapp.com/" target="_blank">
        <img src="img/goaheadtravel_logo.png" alt="goaheadtravel wallpaper">
      </a>
    </div>
		<!-- Footer -->
		<footer class="footer" id="meetMeHere">
      <!-- replace with your own email address -->
      <a href="mailto:benrebah.moez@gmail.com" class="footer__link">benrebah.moez@gmail.com</a>
      <ul class="social-list">
          <li class="social-list__item">
              <a class="social-list__link" href="https://codepen.io/Boul3ez" target="_blank">
                  <i class="fab fa-codepen"></i>
              </a>
          </li>
          <li class="social-list__item">
              <a class="social-list__link" href="https://twitter.com/benrebahmoez1" target="_blank">
                  <i class="fab fa-twitter"></i>
              </a>
          </li>
          <li class="social-list__item">
              <a class="social-list__link" href="https://www.linkedin.com/in/moezbenrebah/" target="_blank">
                  <i class="fab fa-linkedin"></i>
              </a>
          </li>
          <li class="social-list__item">
              <a class="social-list__link" href="https://github.com/moezbenrebah" target="_blank">
                  <i class="fab fa-github"></i>
              </a>
          </li>
      </ul>
  </footer>
		<!-- Scroll to top button -->
		<button class="scrollToTopBtn" title="Go to top"><i class="fas fa-chevron-up"></i></button>
		<!-- script Javascript -->
		<script src="js/index.js"></script>
	</body>
</html>